---
interface Props {
  variant?: 'automation' | 'security' | 'appdev' | 'general';
}

const { variant = 'general' } = Astro.props;

const VARIANTS = {
  automation: {
    icon: 'âš¡',
    accent: '#00d4aa',
    accentDim: 'rgba(0,212,170,0.12)',
    tagline: 'ã“ã®è‡ªå‹•åŒ–ã€ã‚ãªãŸã®æ¥­å‹™ã«ã‚‚',
    headline: 'æ¥­å‹™è‡ªå‹•åŒ–ãƒ»AIçµ±åˆã‚’ä¾é ¼ã—ã¾ã›ã‚“ã‹ï¼Ÿ',
    body: 'SNSé‹ç”¨ã€ãƒ‡ãƒ¼ã‚¿åé›†ã€ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶ä½œâ€”â€”æ‰‹ä½œæ¥­ã§å›ã—ã¦ã„ã‚‹æ¥­å‹™ã‚’AIã¨è‡ªå‹•åŒ–ã§è§£æ±ºã—ã¾ã™ã€‚ãƒ­ãƒ¼ã‚«ãƒ«LLMç’°å¢ƒã®æ§‹ç¯‰ã«ã‚‚å¯¾å¿œã€‚',
    cta: 'ç„¡æ–™ã§ç›¸è«‡ã™ã‚‹',
    link: 'https://secure-auto-lab.com/services/automation',
    contact: 'https://secure-auto-lab.com/contact',
    badges: ['LLM / RAG', 'ç”»åƒç”ŸæˆAI', 'SNSè‡ªå‹•é‹ç”¨', 'ãƒ‡ãƒ¼ã‚¿åé›†'],
  },
  security: {
    icon: 'ğŸ›¡',
    accent: '#4dabf7',
    accentDim: 'rgba(77,171,247,0.12)',
    tagline: 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯å¾Œä»˜ã‘ã§ã¯ãªãæ¨™æº–è£…å‚™',
    headline: 'ã‚»ã‚­ãƒ¥ã‚¢ãªã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã‚’ä¾é ¼ã—ã¾ã›ã‚“ã‹ï¼Ÿ',
    body: 'æƒ…å ±å‡¦ç†å®‰å…¨ç¢ºä¿æ”¯æ´å£«ï¼ˆç™»éŒ²ã‚»ã‚­ã‚¹ãƒšï¼‰ãŒã€è¨­è¨ˆæ®µéšã‹ã‚‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’çµ„ã¿è¾¼ã‚“ã Webã‚¢ãƒ—ãƒªãƒ»APIé–‹ç™ºã‚’è¡Œã„ã¾ã™ã€‚èªè¨¼ãƒ»RLSãƒ»æš—å·åŒ–ãƒ»E2Eãƒ†ã‚¹ãƒˆè¾¼ã¿ã€‚',
    cta: 'ç„¡æ–™ã§ç›¸è«‡ã™ã‚‹',
    link: 'https://secure-auto-lab.com/services/secure-dev',
    contact: 'https://secure-auto-lab.com/contact',
    badges: ['èªè¨¼/èªå¯è¨­è¨ˆ', 'RLS', 'E2Eãƒ†ã‚¹ãƒˆ', 'è„†å¼±æ€§å¯¾ç­–'],
  },
  appdev: {
    icon: 'ğŸš€',
    accent: '#b197fc',
    accentDim: 'rgba(177,151,252,0.12)',
    tagline: 'ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã«',
    headline: 'ã‚¢ãƒ—ãƒªãƒ»ã‚µãƒ¼ãƒ“ã‚¹é–‹ç™ºã‚’ä¾é ¼ã—ã¾ã›ã‚“ã‹ï¼Ÿ',
    body: 'Webã‚¢ãƒ—ãƒªã€ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã€LPåˆ¶ä½œã‹ã‚‰ãƒãƒã‚¿ã‚¤ã‚ºè¨­è¨ˆã¾ã§ä¸€è²«å¯¾å¿œã€‚PMã¨ã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Œé‚ã™ã‚‹åŠ›ãŒã‚ã‚Šã¾ã™ã€‚',
    cta: 'ç„¡æ–™ã§ç›¸è«‡ã™ã‚‹',
    link: 'https://secure-auto-lab.com/services/app-dev',
    contact: 'https://secure-auto-lab.com/contact',
    badges: ['React / Next.js', 'iOS / Android', 'èª²é‡‘å®Ÿè£…', 'MVPé–‹ç™º'],
  },
  general: {
    icon: 'ğŸ’¼',
    accent: '#00d4aa',
    accentDim: 'rgba(0,212,170,0.12)',
    tagline: 'æŠ€è¡“ã§ãƒ“ã‚¸ãƒã‚¹ã‚’åŠ é€Ÿã™ã‚‹',
    headline: 'é–‹ç™ºãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚’ãŠæ¢ã—ã§ã™ã‹ï¼Ÿ',
    body: 'AIçµ±åˆãƒ»æ¥­å‹™è‡ªå‹•åŒ–ãƒ»ã‚»ã‚­ãƒ¥ã‚¢ãªã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ã€‚æƒ…å ±å‡¦ç†å®‰å…¨ç¢ºä¿æ”¯æ´å£« Ã— ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºã€‚ä¼ç”»ã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ã¾ã§ä¸€è²«å¯¾å¿œã€‚',
    cta: 'ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¦‹ã‚‹',
    link: 'https://secure-auto-lab.com',
    contact: 'https://secure-auto-lab.com/contact',
    badges: ['AIçµ±åˆ', 'æ¥­å‹™è‡ªå‹•åŒ–', 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£', 'PM'],
  },
} as const;

const v = VARIANTS[variant] || VARIANTS.general;
---

<div class="blog-cta" style={`--cta-accent: ${v.accent}; --cta-accent-dim: ${v.accentDim};`}>
  <!-- Divider -->
  <div class="flex items-center gap-3 mb-6">
    <div class="flex-1 h-px" style={`background: linear-gradient(90deg, transparent, ${v.accent}40, transparent)`}></div>
    <span class="text-[10px] font-mono tracking-widest uppercase" style={`color: ${v.accent}`}>
      AD â€” Secure Auto Lab
    </span>
    <div class="flex-1 h-px" style={`background: linear-gradient(90deg, transparent, ${v.accent}40, transparent)`}></div>
  </div>

  <!-- Main Card -->
  <div class="cta-card">
    <!-- Background glow -->
    <div class="absolute -top-10 -right-10 w-[200px] h-[200px] pointer-events-none" style={`background: radial-gradient(circle, ${v.accent}08, transparent 70%)`}></div>

    <!-- Tagline -->
    <div class="inline-flex items-center gap-1.5 px-3 py-1 rounded mb-4" style={`background: ${v.accentDim}; border: 1px solid ${v.accent}25;`}>
      <span class="text-sm">{v.icon}</span>
      <span class="text-[11px] font-mono font-semibold tracking-wide" style={`color: ${v.accent}`}>
        {v.tagline}
      </span>
    </div>

    <!-- Headline -->
    <h3 class="text-xl font-bold text-[#e8f0f8] mb-2.5 leading-snug tracking-tight">
      {v.headline}
    </h3>

    <!-- Body -->
    <p class="text-sm text-[#8a9bb5] leading-relaxed mb-4 max-w-[600px]">
      {v.body}
    </p>

    <!-- Badges -->
    <div class="flex gap-1.5 flex-wrap mb-5">
      {v.badges.map((b) => (
        <span class="text-[10px] font-mono px-2.5 py-1 rounded bg-[#141c28] border border-[#1e2a3a] text-[#8a9bb5] tracking-wide">
          {b}
        </span>
      ))}
    </div>

    <!-- CTA Buttons -->
    <div class="flex gap-3 items-center flex-wrap">
      <a
        href={v.contact}
        target="_blank"
        rel="noopener noreferrer"
        class="cta-primary"
        style={`background: linear-gradient(135deg, ${v.accent}, ${v.accent}cc); box-shadow: 0 2px 12px ${v.accent}30;`}
      >
        {v.cta}
        <span class="text-[15px]">â†’</span>
      </a>

      <a
        href={v.link}
        target="_blank"
        rel="noopener noreferrer"
        class="cta-secondary"
      >
        ã‚µãƒ¼ãƒ“ã‚¹è©³ç´°ã‚’è¦‹ã‚‹
      </a>
    </div>

    <!-- Credentials -->
    <div class="mt-5 pt-4 border-t border-[#1a2232] flex items-center gap-4 text-[10px] font-mono text-[#4a5c72] tracking-wide">
      <span>ğŸ›¡ æƒ…å ±å‡¦ç†å®‰å…¨ç¢ºä¿æ”¯æ´å£« (RISS)</span>
      <span>ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ (PM)</span>
    </div>
  </div>
</div>

<style>
  .blog-cta {
    margin: 48px 0 32px;
  }

  .cta-card {
    background: #0c1017;
    border: 1px solid #1e2a3a;
    border-radius: 12px;
    padding: 28px 28px 24px;
    position: relative;
    overflow: hidden;
    transition: border-color 0.3s, box-shadow 0.3s;
  }

  .cta-card:hover {
    border-color: color-mix(in srgb, var(--cta-accent) 40%, transparent);
    box-shadow: 0 0 30px color-mix(in srgb, var(--cta-accent) 8%, transparent);
  }

  .cta-primary {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 10px 24px;
    border-radius: 6px;
    color: #0a0e14;
    font-size: 13px;
    font-weight: 700;
    text-decoration: none;
    transition: transform 0.15s, box-shadow 0.15s;
  }

  .cta-primary:hover {
    transform: translateY(-1px);
  }

  .cta-secondary {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 10px 20px;
    border-radius: 6px;
    background: transparent;
    border: 1px solid #2a3a4e;
    color: #8a9bb5;
    font-size: 13px;
    font-weight: 500;
    text-decoration: none;
    transition: border-color 0.2s, color 0.2s;
  }

  .cta-secondary:hover {
    border-color: color-mix(in srgb, var(--cta-accent) 40%, transparent);
    color: #c8d6e5;
  }
</style>
